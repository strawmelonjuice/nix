# This config could just go in home manager, but unfortunately it is massive, and earlier attempts broke harshly..


format = """
[î‚¶](fg:#9A348E)\
$os\
[î‚°](fg:#9A348E) \
"""

right_format = """
[î‚²](#9A348E)\

$username\
[î‚²]( fg:#C1E1C1 bg:#9A348E)\
$shell\
[î‚²]( fg:#DA627D bg:#C1E1C1)\
$directory\
[î‚²]( bg:#DA627D fg:#e7d1ff)\
$mise\
$nix_shell\
[î‚²]( fg:#FCA17D bg:#e7d1ff)\
${custom.vcs_branch}\
${custom.vcs_status}\
[î‚²]( bg:#FCA17D fg:#86BBD8)\
$c\
$cpp\
$elixir\
$elm\
$golang\
$gradle\
$haskell\
$java\
$julia\
$nodejs\
$bun\
$erlang\
$nim\
$gleam\
$rust\
$scala\
$php\
$zig\
[î‚²]( bg:#86BBD8 fg:#06969A)\
$docker_context\
$cmd_duration\
[î‚²]( bg:#06969A fg:#33658A)\
$status\
$time\

[î‚´ ](fg:#33658A)\

"""
# Disable the blank line at the start of the prompt
# add_newline = false

# You can also replace your username with a neat symbol like ï„   or disable this
# and use the os module below
[username]
show_always = true
style_user = "bg:#9A348E fg:#FFD6E0"
style_root = "bg:#9A348E fg:#FFD6E0"
format = '[$user ]($style)'
disabled = false

[shell]
# The shell module displays the current shell name
# It is disabled by default, but you can enable it if you want
disabled = false # Disabled by default
# Make it a bit like a pastel pistachio green color, like #C1E1C1.
style = "bg:#C1E1C1 fg:#9A348E"
# format = '[$shell ]($style)'
# The shell module can also display the shell symbol only, for powershell, zsh, bash, etc.
# Uncomment the line below to enable it
format = "[$indicator]($style)"
powershell_indicator = "Powershell"
pwsh_indicator = " ï…º  PWSH"
zsh_indicator = "ğŸš Zsh"
fish_indicator = "ğŸŸ Fish"

# An alternative to the username module which displays a symbol that
# represents the current operating system
[os]
style = "bg:#9A348E fg:#FFD6E0"
disabled = false      # Disabled by default

[directory]
style = "bg:#DA627D"
format = "[ $path ]($style)"
truncation_symbol = "â€¦/"

[directory.substitutions]
"Documents" = "ó°ˆ™ "
"Downloads" = "ï€™ "
"Music" = "ï€ "
"Pictures" = "ï€¾ "
"source" = "ó°’‹ "
# Keep in mind that the order matters. For example:
# "Important Documents" = " ó°ˆ™ï„ª "
# will not be replaced, because "Documents" was already substituted before.
# So either put "Important Documents" before "Documents" or use the substituted version:
# "Important ó°ˆ™ " = " ó°ˆ™ï„ª "

[c]
symbol = "î˜ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[cpp]
symbol = "î˜ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[docker_context]
symbol = "ïŒˆ "
style = "bg:#06969A"
format = '[ $symbol $context ]($style)'

[elixir]
symbol = "î‰µ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[elm]
symbol = "î˜¬ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[git_branch]
format = '$symbol $branch'

[git_status]
format = '$all_status$ahead_behind '

[golang]
symbol = "î˜§ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[gradle]
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[haskell]
symbol = "î· "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[java]
symbol = "î‰– "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[nodejs]
symbol = "îœ˜ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[bun]
disabled = false
symbol = "ğŸ§… "
format = '[ $symbol ($version) ]($style)'
detect_files = [
    'bun.lock',
    'bun.lockb',
    'bunfig.toml',
    'package.json',
    "gleam.toml",
]
style = "bg:#86BBD8 fg:#FF6B6B"

[lua]
symbol = "î˜  "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'


[php]
symbol = "îœ½ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'


[nim]
symbol = "ó°†¥ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[rust]
symbol = "î¨ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[scala]
symbol = "îœ· "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[erlang]
symbol = "î± "
format = "[$symbol ($version) ]($style)"
style = "bg:#86BBD8 fg:#FF6B6B"
detect_files = ['rebar.config', 'elang.mk', "gleam.toml"]

[gleam]
symbol = "ï€… "
format = "[$symbol ($version) ]($style)"
style = "bg:#86BBD8 fg:#FF6B6B"
disabled = false


[zig]
symbol = "â†¯ "
style = "bg:#86BBD8 fg:#FF6B6B"
format = '[ $symbol ($version) ]($style)'

[status]
disabled = false
style = "bg:#33658A" # Like time.
# Heart symbol for success, broken heart for failure.
success_symbol = "ğŸ’–"
symbol = "ğŸ’”"
format = "[ $symbol]($style)"
map_symbol =true


[time]
disabled = false
time_format = "%R"             # Hour:Minute Format
style = "bg:#33658A"
format = '[ $time ]($style)'

[cmd_duration]
format = '[ â±ï¸  $duration ]($style)'
style = "bg:#06969A fg:#33658A"
min_time = 500


[mise]
disabled = true
symbol = "ğŸ­"
format = '[ $symbol $health ]($style)'
detect_files = [ "mise.toml"]
style = "bg:#e7d1ff fg:#00008b"

[nix_shell]
format = '[via $symbol$state( \($name\))]($style)'
style = "bg:#e7d1ff fg:#00008b"

[custom.vcs_status]
detect_folders = [".git", ".jj"]
description = "Show git or jj status, styled the same"
shell = ["bash", "--noprofile"]
command = '''
if [ "$GIT_DIR" == "" ]; then
    starship module git_status
else
jj log --revisions @ --no-graph --ignore-working-copy --color never --limit 1 --template '
separate(" ",
    change_id.shortest(1),
    bookmarks,

    concat(
    if(conflict, "ğŸ’¥"),
    if(divergent, "ğŸš§"),
    if(hidden, "ğŸ‘»"),
    if(immutable, "ğŸ”’"),
    ),
    raw_escape_sequence("") ++ if(empty, "(empty)"),
    raw_escape_sequence("") ++ coalesce(
    truncate_end(29, description.first_line(), "â€¦"),
    "(no description set)",
    ) ++ raw_escape_sequence(""),
)
'
fi
'''

format = '[($output)]($style)'
style = "bg:#FCA17D fg:#2A4D69"

[custom.vcs_branch]
description = "Show git or jj branch, styled the same"
shell = ["bash", "-noprofile"]
command = '''
if [ "$GIT_DIR" == "" ]; then
    starship module git_branch
else
    # JJ bookmark should show up here but idk how to yet.
    echo "jj"
fi
'''
detect_folders = [".git", ".jj"]
format = '[$symbol($output )]($style)'
symbol = ""
style = "bg:#FCA17D fg:#2A4D69"
